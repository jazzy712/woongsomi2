{% extends "base.html" %}
{% load static %}

{% block extra_head %}
  <!-- Kakao JS SDK + services + routing -->
  <script
    src="https://dapi.kakao.com/v2/maps/sdk.js?appkey={{ KAKAO_JS_KEY }}&libraries=services,routing">
  </script>
{% endblock %}

{% block content %}
  <h2>내 주변 은행 검색</h2>

  <div class="row mb-3">
    <!-- 1) 시/도 -->
    <div class="col-md-4">
      <select id="sido-select" class="form-select">
        <option value="" disabled selected>시/도 선택</option>
      </select>
    </div>
    <!-- 2) 구/군/시 -->
    <div class="col-md-4">
      <select id="gugun-select" class="form-select" disabled>
        <option value="" disabled selected>구/군/시 선택</option>
      </select>
    </div>
    <!-- 3) 은행명 -->
    <div class="col-md-4">
      <select id="bank-select" class="form-select">
        <option value="" disabled selected>은행 선택</option>
      </select>
    </div>
  </div>

  <div class="d-grid mb-3">
    <button id="search-btn" class="btn btn-primary">검색</button>
  </div>

  <div id="map" style="width:100%; height:400px;"></div>
  <ul id="bank-list" class="list-group mt-3"></ul>
{% endblock %}

{% block extra_scripts %}
  <!-- data.json 경로와 REST 키를 전역 변수로 주입 -->
  <script>
    const DATA_JSON_URL = "{% static 'js/data.json' %}";
    const NAVI_API_KEY  = "{{ KAKAO_REST_KEY }}";
  </script>
  <script src="{% static 'js/bank_search.js' %}"></script>
{% endblock %}
